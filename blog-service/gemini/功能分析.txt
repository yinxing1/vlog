
个人博客系统 - 功能分析说明书 (V1.0)
文档版本: 1.0
创建日期: 2023年10月27日
基于文档: 《个人博客系统 - 软件需求规格说明书 (V1.0)》
1. 引言 (Introduction)
本功能分析说明书（Functional Analysis Document, FAD）旨在基于已确定的需求，将整个个人博客系统划分为一系列相互关联的功能模块，并对每个模块下的具体功能点（即用例或用户故事）进行详细的描述。本文档将清晰地定义每个功能的用户、输入、处理流程和预期输出，为后续的系统设计和开发提供明确、无歧义的指导。
本文档的分析范围涵盖了《软件需求规格说明书》中定义的所有后台管理功能和前台展示功能。

2. 功能模块总览 (Functional Module Overview)
为了实现系统目标，我们将系统划分为两大主模块：后台管理系统 和 前台展示系统。每个主模块下再细分为多个子模块。
● BM-1: 认证模块 (Authentication Module)
  ○ 功能点：管理员登录、退出、登录状态检查。
● BM-2: 仪表盘模块 (Dashboard Module)
  ○ 功能点：统计数据展示（文章总数、评论总数、浏览总数等）。
● BM-3: 文章管理模块 (Article Management Module)
  ○ 功能点：创建文章、编辑文章、删除文章、查询文章列表（支持分页、筛选）。
● BM-4: 分类管理模块 (Category Management Module)
  ○ 功能点：创建分类、编辑分类、删除分类、查询分类列表。
● BM-5: 标签管理模块 (Tag Management Module)
  ○ 功能点：创建标签、编辑标签、删除标签、查询标签列表。
● BM-6: 评论管理模块 (Comment Management Module)
  ○ 功能点：查询评论列表（支持分页、筛选）、审核通过评论、删除评论。
● BM-7: 系统设置模块 (System Settings Module)
  ○ 功能点：查询和更新博客基本信息（名称、签名等）。
● FM-1: 首页模块 (Home Page Module)
  ○ 功能点：分页展示已发布的文章列表。
● FM-2: 文章详情模块 (Article Detail Module)
  ○ 功能点：展示文章完整内容、文章元信息（作者、日期、分类、标签、浏览量）、展示评论列表、提交评论。
● FM-3: 归档模块 (Archive Module)
  ○ 功能点：按月份聚合展示文章列表。
● FM-4: 分类/标签列表模块 (Category/Tag List Module)
  ○ 功能点：展示指定分类或标签下的文章列表。
● FM-5: 搜索模块 (Search Module)
  ○ 功能点：根据关键词搜索文章并展示结果。
● FM-6: “关于我”模块 (About Me Module)
  ○ 功能点：展示静态的“关于我”页面内容。

3. 核心功能用例分析 (Key Functional Use Case Analysis)
这里我们选取几个核心的功能点进行详细的用例分析。
● 功能ID: BM-1.1
● 功能名称: 管理员登录
● 参与者: 管理员
● 前置条件: 管理员未登录，且已访问后台登录页面。
● 基本流程 (成功场景):
  ○ 管理员在登录页面的表单中输入用户名和密码。
  ○ 管理员点击“登录”按钮。
  ○ 系统前端对输入进行非空校验。
  ○ 系统将用户名和密码发送至后端API。
  ○ 后端API验证用户名是否存在，密码是否正确（与数据库中加密存储的密码进行比对）。
  ○ 验证通过，后端生成一个有时效性的Token（如JWT），并返回给前端。
  ○ 前端接收并存储Token（例如，存储在 localStorage 或 HttpOnly Cookie中），并将页面重定向至后台仪表盘（Dashboard）。
● 后置条件: 管理员成功登录系统，后续请求将携带Token进行身份验证。
● 异常流程:
  ○ 3a. 输入为空: 前端提示“用户名或密码不能为空”。
  ○ 5a. 用户名或密码错误: 后端返回错误信息，前端在页面上显示“用户名或密码错误”。

● 功能ID: BM-3.1 / BM-3.2
● 功能名称: 创建/编辑文章
● 参与者: 管理员
● 前置条件: 管理员已登录系统。
● 基本流程 (成功场景):
  ○ 管理员通过导航进入“文章管理”页面，点击“写文章”按钮（或在文章列表中点击某篇文章的“编辑”按钮）。
  ○ 系统展示文章编辑器页面。如果是编辑，页面会填充该文章的现有数据。
  ○ 管理员输入/修改文章标题。
  ○ 管理员在Markdown编辑器中输入/修改文章正文。
  ○ 管理员在分类下拉列表中选择一个文章分类。
  ○ 管理员在标签输入框中选择已有的标签或输入新标签（系统支持动态创建）。
  ○ （可选）管理员上传/修改文章的封面图。
  ○ （可选）管理员输入/修改文章摘要。若不填，系统可在展示时自动截取正文前N个字符。
  ○ 管理员点击“发布”按钮（或“存为草稿”按钮）。
  ○ 系统前端对标题和正文进行非空校验。
  ○ 系统将文章所有数据（标题、正文、分类ID、标签列表、状态等）打包发送至后端API。
  ○ 后端API接收数据，进行最终校验，并将数据持久化到数据库。如果是新标签，则先创建标签记录。
  ○ 后端返回成功响应。
  ○ 前端提示“文章发布/保存成功”，并跳转到文章管理列表页面。
● 后置条件: 数据库中创建或更新了一条文章记录，以及相关的分类、标签关联关系。
● 异常流程:
  ○ 10a. 必填项为空: 前端提示具体的错误信息，如“文章标题不能为空”。
  ○ 12a. 数据库操作失败: 后端记录错误日志，并向前端返回服务器错误信息。前端提示“操作失败，请稍后重试”。

● 功能ID: FM-2.4
● 功能名称: 提交评论
● 参与者: 访客
● 前置条件: 访客正在浏览某篇文章的详情页。
● 基本流程 (成功场景):
  ○ 访客在文章底部的评论表单中，输入昵称、邮箱（可选）和评论内容。
  ○ （可选）如果该评论是回复另一条评论，访客会点击某条评论下的“回复”按钮，表单中会关联被回复的评论ID。
  ○ 访客点击“提交评论”按钮。
  ○ 系统前端对昵称和评论内容进行非空校验。
  ○ 系统将评论数据（文章ID、昵称、邮箱、内容、父评论ID）发送至后端API。
  ○ 后端API对接收到的数据进行安全校验（如XSS过滤）。
  ○ 后端将评论数据存入数据库，默认状态为 待审核 (Pending)。
  ○ 后端返回成功响应。
  ○ 前端清空评论表单，并显示提示信息：“评论已提交，将在审核后显示。”
● 后置条件: 数据库中创建了一条状态为“待审核”的评论记录。
● 异常流程:
  ○ 4a. 必填项为空: 前端提示具体的错误信息，如“昵称不能为空”。
  ○ 6a. 内容包含非法字符: 后端拒绝请求，并返回错误信息。
  ○ 7a. 数据库写入失败: 后端记录错误日志，并向前端返回服务器错误信息。前端提示“评论失败，请稍后重试”。

4. 功能列表 (Function List)
下表以更简洁的形式总结了所有功能点及其关键信息。
模块	功能ID	功能名称	参与者	简要描述
后台管理
认证模块	BM-1.1	管理员登录	管理员	通过用户名密码登录，获取Token。
	BM-1.2	管理员退出	管理员	清除登录状态（Token）。
仪表盘模块	BM-2.1	查看统计信息	管理员	展示文章、评论、浏览量等核心数据。
文章管理模块	BM-3.1	创建文章	管理员	使用Markdown编辑器创建新文章，设置属性并发布或存为草稿。
	BM-3.2	编辑文章	管理员	修改已有文章的内容和属性。
	BM-3.3	删除文章	管理员	逻辑删除或物理删除文章。
	BM-3.4	查询文章列表	管理员	分页、按标题/状态/分类筛选文章。
分类管理模块	BM-4.x	分类CRUD	管理员	增、删、改、查文章分类。
标签管理模块	BM-5.x	标签CRUD	管理员	增、删、改、查文章标签。
评论管理模块	BM-6.1	查询评论列表	管理员	分页、按文章/状态筛选评论。
	BM-6.2	审核/删除评论	管理员	将待审核评论设为通过，或删除任意评论。
系统设置模块	BM-7.1	更新网站信息	管理员	修改博客名称、个人签名、页脚版权等。
前台展示
首页模块	FM-1.1	浏览文章列表	访客	按时间倒序分页查看已发布的文章摘要列表。
文章详情模块	FM-2.1	查看文章详情	访客	阅读文章全文，查看元数据，浏览量+1。
	FM-2.2	查看评论	访客	查看该文章下所有已审核通过的评论。
	FM-2.3	提交评论	访客	填写昵称、内容等对文章进行评论。
归档模块	FM-3.1	按月份查看归档	访客	查看按年月组织的文章标题列表。
分类/标签列表	FM-4.1	按分类/标签筛选	访客	查看特定分类或标签下的所有文章。
搜索模块	FM-5.1	搜索文章	访客	输入关键词，在标题和内容中搜索文章。
“关于我”模块	FM-6.1	查看“关于我”	访客	阅读博主的个人介绍。
